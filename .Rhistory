geom_sf(fill = "bisque2") +
theme(axis.line=element_blank(),
axis.text.x=element_blank(),
axis.text.y=element_blank(),
axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.title.y=element_blank(),
panel.background = element_rect(fill = "skyblue2"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
legend.position="none")
afr
#On se génère des points au pif en Afrique -------------------------------------
xy <- data.frame(lng = c(14, 20, -6, -10, 48), lat = c(19, -6, 7.7, 21.7, 9))
# Le plot en condensé
afr <- world %>%
# On extrait l'Afrique à partir du nom du super-Polygone ('continent')
filter(continent == "Africa") %>%
# On fusinonne tous les polygones pour n'en faire plus qu'un
st_union() %>%
# On plot tout ça avec ggplot en superposant nos points
ggplot() +
geom_sf(fill = "bisque2") +
geom_point(data = xy, aes(x = lng, y = lat), size = 2, colour = "#8c510a") +
theme(axis.line=element_blank(),
axis.text.x=element_blank(),
axis.text.y=element_blank(),
axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.title.y=element_blank(),
panel.background = element_rect(fill = "skyblue2"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
legend.position="none")
#On se génère des points au pif en Afrique -------------------------------------
xy <- data.frame(lng = c(14, 20, -6, -10, 48), lat = c(19, -6, 7.7, 21.7, 9))
# Le plot en condensé
afr <- world %>%
# On extrait l'Afrique à partir du nom du super-Polygone ('continent')
filter(continent == "Africa") %>%
# On fusinonne tous les polygones pour n'en faire plus qu'un
st_union() %>%
# On plot tout ça avec ggplot en superposant nos points
ggplot() +
geom_sf(fill = "bisque2") +
geom_point(data = xy, aes(x = lng, y = lat), size = 2, colour = "#8c510a") +
theme(axis.line=element_blank(),
axis.text.x=element_blank(),
axis.text.y=element_blank(),
axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.title.y=element_blank(),
panel.background = element_rect(fill = "skyblue2"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
legend.position="none")
afr
#On se génère des points au pif en Afrique -------------------------------------
xy <- data.frame(lng = c(14, 20, -6, -10, 48, 23), lat = c(19, -6, 7.7, 21.7, 9, -23))
# Le plot en condensé
afr <- world %>%
# On extrait l'Afrique à partir du nom du super-Polygone ('continent')
filter(continent == "Africa") %>%
# On fusinonne tous les polygones pour n'en faire plus qu'un
st_union() %>%
# On plot tout ça avec ggplot en superposant nos points
ggplot() +
geom_sf(fill = "bisque2") +
geom_point(data = xy, aes(x = lng, y = lat), size = 2, colour = "#8c510a") +
theme(axis.line=element_blank(),
axis.text.x=element_blank(),
axis.text.y=element_blank(),
axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.title.y=element_blank(),
panel.background = element_rect(fill = "skyblue2"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
legend.position="none")
afr
#On se génère des points au pif en Afrique -------------------------------------
xy <- data.frame(lng = c(14, 20, -6, -10, 48, 23, 47), lat = c(19, -6, 7.7, 21.7, 9, -23, -18))
## Le plot en condensé ---------------------------------------------------------
afr <- world %>%
# On extrait l'Afrique à partir du nom du super-Polygone ('continent')
filter(continent == "Africa") %>%
# On fusinonne tous les polygones pour n'en faire plus qu'un
st_union() %>%
# On plot tout ça avec ggplot en superposant nos points
ggplot() +
geom_sf(fill = "bisque2") +
geom_point(data = xy, aes(x = lng, y = lat), size = 2, colour = "#8c510a") +
theme(axis.line=element_blank(),
axis.text.x=element_blank(),
axis.text.y=element_blank(),
axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.title.y=element_blank(),
panel.background = element_rect(fill = "skyblue2"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
legend.position="none")
afr
?annotate
rm(list = ls())
library(sf)
library(spData)
library(ggplot2)
library(tidyverse)
occdf <- readRDS("./data_2023/SPECIES_LISTS/5-Fully_cleaned_EOT_SA_Mammals_SALMA_kept_Tropics_Diet.RDS")
nw <- st_read("./data_2023/New_World_18_regions_DCsplit/New_World_18_regions_DCsplit.shp")
nw <- st_read("./data_2023/New_World_18_regions_DCsplit/New_World_18_regions_DCsplit.shp", quiet = T)
p <- nw %>%
filter(ECO_NAM %in% c("North_Mesoamerica", "Nearctic", "South_Mesoamerica", "Carribean") == F) %>%
st_union() %>%
ggplot() +
geom_sf(mapping = aes(alpha = 0.2), fill = "bisque2") +
#  annotate(geom = "rect", ) +
#  geom_point(data = occdf, aes(x = lng, y = lat, colour = loc), size = 2) +
scale_color_manual(values = c("#5ab4ac", "#8c510a")) +
theme(
# axis.line=element_blank(),
# axis.text.x=element_blank(),
# axis.text.y=element_blank(),
# axis.ticks=element_blank(),
# axis.title.x=element_blank(),
# axis.title.y=element_blank(),
panel.background = element_rect(fill = "skyblue2"),
# panel.grid.major = element_blank(),
# panel.grid.minor = element_blank(),
legend.position="none")
p
library(spData)
p <- nw %>%
filter(ECO_NAM %in% c("North_Mesoamerica", "Nearctic", "South_Mesoamerica", "Carribean") == F) %>%
st_union() %>%
ggplot() +
geom_sf(fill = "bisque2") +
annotate(geom = "rect", xmin = -67, xmax = -65, ymin = -27, ymax = -25, colour = "bisque2") +
geom_point(data = occdf, aes(x = lng, y = lat, colour = loc), size = 2) +
scale_color_manual(values = c("#5ab4ac", "#8c510a")) +
theme(
axis.line=element_blank(),
axis.text.x=element_blank(),
axis.text.y=element_blank(),
axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.title.y=element_blank(),
panel.background = element_rect(fill = "skyblue2"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
legend.position="none")
p
nw %>%
filter(ECO_NAM %in% c("North_Mesoamerica", "Nearctic", "South_Mesoamerica", "Carribean") == F) %>%
st_union() %>%
ggplot() +
geom_sf(fill = "bisque2") +
annotate(geom = "rect", xmin = -67, xmax = -65, ymin = -27, ymax = -25, colour = "bisque2", alpha = 1) +
geom_point(data = occdf, aes(x = lng, y = lat, colour = loc), size = 2) +
scale_color_manual(values = c("#5ab4ac", "#8c510a")) +
theme(
axis.line=element_blank(),
axis.text.x=element_blank(),
axis.text.y=element_blank(),
axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.title.y=element_blank(),
panel.background = element_rect(fill = "skyblue2"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
legend.position="none")
nw %>%
filter(ECO_NAM %in% c("North_Mesoamerica", "Nearctic", "South_Mesoamerica", "Carribean") == F) %>%
st_union() %>%
ggplot() +
geom_sf(fill = "bisque2") +
annotate(geom = "rect", xmin = -67, xmax = -65, ymin = -27, ymax = -25, colour = "bisque2", alpha = 1)
nw %>%
filter(ECO_NAM %in% c("North_Mesoamerica", "Nearctic", "South_Mesoamerica", "Carribean") == F) %>%
st_union() %>%
ggplot() +
geom_sf(fill = "bisque2") +
annotate(geom = "rect", xmin = -67, xmax = -65, ymin = -27, ymax = -25, colour = "bisque2")
nw %>%
filter(ECO_NAM %in% c("North_Mesoamerica", "Nearctic", "South_Mesoamerica", "Carribean") == F) %>%
st_union() %>%
ggplot() +
geom_sf(fill = "bisque2") +
annotate(geom = "rect", xmin = -67, xmax = -65, ymin = -27, ymax = -25, fill = "bisque2")
nw %>%
filter(ECO_NAM %in% c("North_Mesoamerica", "Nearctic", "South_Mesoamerica", "Carribean") == F) %>%
st_union() %>%
ggplot() +
geom_sf(fill = "bisque2") +
annotate(geom = "rect", xmin = -67, xmax = -65, ymin = -27, ymax = -25, fill = "bisque2") +
geom_point(data = occdf, aes(x = lng, y = lat, colour = loc), size = 2) +
scale_color_manual(values = c("#5ab4ac", "#8c510a")) +
theme(
axis.line=element_blank(),
axis.text.x=element_blank(),
axis.text.y=element_blank(),
axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.title.y=element_blank(),
panel.background = element_rect(fill = "skyblue2"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
legend.position="none")
nw %>%
filter(ECO_NAM %in% c("North_Mesoamerica", "Nearctic", "South_Mesoamerica", "Carribean") == F) %>%
st_union() %>%
ggplot() +
geom_sf(fill = "bisque2") +
annotate(geom = "rect", xmin = -67, xmax = -65, ymin = -27, ymax = -25, fill = "bisque2") +
geom_point(data = occdf, aes(x = lng, y = lat, colour = loc), size = 2) +
scale_color_manual(values = c("#5ab4ac", "#8c510a")) +
theme(
# axis.line=element_blank(),
# axis.text.x=element_blank(),
# axis.text.y=element_blank(),
# axis.ticks=element_blank(),
# axis.title.x=element_blank(),
# axis.title.y=element_blank(),
panel.background = element_rect(fill = "skyblue2"),
# panel.grid.major = element_blank(),
# panel.grid.minor = element_blank(),
legend.position="none")
nw %>%
filter(ECO_NAM %in% c("North_Mesoamerica", "Nearctic", "South_Mesoamerica", "Carribean") == F) %>%
st_union() %>%
ggplot() +
geom_sf(fill = "bisque2") +
annotate(geom = "rect", xmin = -67, xmax = -65, ymin = -27, ymax = -25, fill = "bisque2") +
annotate(geom = "rect", xmin = -75, xmax = -70, ymin = -15, ymax = -10, fill = "bisque2") +
geom_point(data = occdf, aes(x = lng, y = lat, colour = loc), size = 2) +
scale_color_manual(values = c("#5ab4ac", "#8c510a")) +
theme(
# axis.line=element_blank(),
# axis.text.x=element_blank(),
# axis.text.y=element_blank(),
# axis.ticks=element_blank(),
# axis.title.x=element_blank(),
# axis.title.y=element_blank(),
panel.background = element_rect(fill = "skyblue2"),
# panel.grid.major = element_blank(),
# panel.grid.minor = element_blank(),
legend.position="none")
nw %>%
filter(ECO_NAM %in% c("North_Mesoamerica", "Nearctic", "South_Mesoamerica", "Carribean") == F) %>%
st_union() %>%
ggplot() +
geom_sf(fill = "bisque2") +
annotate(geom = "rect", xmin = -67, xmax = -65, ymin = -27, ymax = -25, fill = "bisque2") +
annotate(geom = "rect", xmin = -75, xmax = -70, ymin = -15, ymax = -10, fill = "bisque2") +
annotate(geom = "rect", xmin = -79.6, xmax = -70, ymin = -6.8, ymax = -2.5, fill = "bisque2") +
geom_point(data = occdf, aes(x = lng, y = lat, colour = loc), size = 2) +
scale_color_manual(values = c("#5ab4ac", "#8c510a")) +
theme(
# axis.line=element_blank(),
# axis.text.x=element_blank(),
# axis.text.y=element_blank(),
# axis.ticks=element_blank(),
# axis.title.x=element_blank(),
# axis.title.y=element_blank(),
panel.background = element_rect(fill = "skyblue2"),
# panel.grid.major = element_blank(),
# panel.grid.minor = element_blank(),
legend.position="none")
p <- nw %>%
filter(ECO_NAM %in% c("North_Mesoamerica", "Nearctic", "South_Mesoamerica", "Carribean") == F) %>%
st_union() %>%
ggplot() +
geom_sf(fill = "bisque2") +
annotate(geom = "rect", xmin = -67, xmax = -65, ymin = -27, ymax = -25, fill = "bisque2") +
annotate(geom = "rect", xmin = -75, xmax = -70, ymin = -15, ymax = -10, fill = "bisque2") +
annotate(geom = "rect", xmin = -79.6, xmax = -70, ymin = -6.8, ymax = -2.5, fill = "bisque2") +
geom_point(data = occdf, aes(x = lng, y = lat, colour = loc), size = 2) +
scale_color_manual(values = c("#5ab4ac", "#8c510a")) +
theme(
# axis.line=element_blank(),
# axis.text.x=element_blank(),
# axis.text.y=element_blank(),
# axis.ticks=element_blank(),
# axis.title.x=element_blank(),
# axis.title.y=element_blank(),
panel.background = element_rect(fill = "skyblue2"),
# panel.grid.major = element_blank(),
# panel.grid.minor = element_blank(),
legend.position="none")
ggsave("~/Bureau/try.pdf")
?geom_sf
nw %>%
filter(ECO_NAM %in% c("North_Mesoamerica", "Nearctic", "South_Mesoamerica", "Carribean") == F) %>%
st_union() %>%
ggplot() +
geom_sf(colour = "bisque2", fill = "bisque2") +
annotate(geom = "rect", xmin = -67, xmax = -65, ymin = -27, ymax = -25, fill = "bisque2") +
annotate(geom = "rect", xmin = -75, xmax = -70, ymin = -15, ymax = -10, fill = "bisque2") +
annotate(geom = "rect", xmin = -79.6, xmax = -70, ymin = -6.8, ymax = -2.5, fill = "bisque2") +
annotate(geom = "rect", xmin = -69, xmax = -70, ymin = -18, ymax = -13, fill = "bisque2") +
geom_point(data = occdf, aes(x = lng, y = lat, colour = loc), size = 2) +
scale_color_manual(values = c("#5ab4ac", "#8c510a")) +
theme(
# axis.line=element_blank(),
# axis.text.x=element_blank(),
# axis.text.y=element_blank(),
# axis.ticks=element_blank(),
# axis.title.x=element_blank(),
# axis.title.y=element_blank(),
panel.background = element_rect(fill = "skyblue2"),
# panel.grid.major = element_blank(),
# panel.grid.minor = element_blank(),
legend.position="none")
nw %>%
filter(ECO_NAM %in% c("North_Mesoamerica", "Nearctic", "South_Mesoamerica", "Carribean") == F) %>%
st_union() %>%
ggplot() +
geom_sf(colour = "bisque2", fill = "bisque2", lwd = 0.2) +
annotate(geom = "rect", xmin = -67, xmax = -65, ymin = -27, ymax = -25, fill = "bisque2") +
annotate(geom = "rect", xmin = -75, xmax = -70, ymin = -15, ymax = -10, fill = "bisque2") +
annotate(geom = "rect", xmin = -79.6, xmax = -70, ymin = -6.8, ymax = -2.5, fill = "bisque2") +
annotate(geom = "rect", xmin = -69, xmax = -70, ymin = -18, ymax = -13, fill = "bisque2") +
geom_point(data = occdf, aes(x = lng, y = lat, colour = loc), size = 2) +
scale_color_manual(values = c("#5ab4ac", "#8c510a")) +
theme(
# axis.line=element_blank(),
# axis.text.x=element_blank(),
# axis.text.y=element_blank(),
# axis.ticks=element_blank(),
# axis.title.x=element_blank(),
# axis.title.y=element_blank(),
panel.background = element_rect(fill = "skyblue2"),
# panel.grid.major = element_blank(),
# panel.grid.minor = element_blank(),
legend.position="none")
nw %>%
filter(ECO_NAM %in% c("North_Mesoamerica", "Nearctic", "South_Mesoamerica", "Carribean") == F) %>%
st_union() %>%
ggplot() +
geom_sf(colour = "bisque2", fill = "bisque2", lwd = 0.01) +
annotate(geom = "rect", xmin = -67, xmax = -65, ymin = -27, ymax = -25, fill = "bisque2") +
annotate(geom = "rect", xmin = -75, xmax = -70, ymin = -15, ymax = -10, fill = "bisque2") +
annotate(geom = "rect", xmin = -79.6, xmax = -70, ymin = -6.8, ymax = -2.5, fill = "bisque2") +
annotate(geom = "rect", xmin = -69, xmax = -70, ymin = -18, ymax = -13, fill = "bisque2") +
geom_point(data = occdf, aes(x = lng, y = lat, colour = loc), size = 2) +
scale_color_manual(values = c("#5ab4ac", "#8c510a")) +
theme(
# axis.line=element_blank(),
# axis.text.x=element_blank(),
# axis.text.y=element_blank(),
# axis.ticks=element_blank(),
# axis.title.x=element_blank(),
# axis.title.y=element_blank(),
panel.background = element_rect(fill = "skyblue2"),
# panel.grid.major = element_blank(),
# panel.grid.minor = element_blank(),
legend.position="none")
nw %>%
filter(ECO_NAM %in% c("North_Mesoamerica", "Nearctic", "South_Mesoamerica", "Carribean") == F) %>%
st_union() %>%
ggplot() +
geom_sf(colour = "bisque2", fill = "bisque2", lwd = 0.01) +
annotate(geom = "rect", xmin = -67, xmax = -65, ymin = -27, ymax = -25, fill = "bisque2") +
annotate(geom = "rect", xmin = -75, xmax = -70, ymin = -15, ymax = -10, fill = "bisque2") +
annotate(geom = "rect", xmin = -79.6, xmax = -70, ymin = -6.8, ymax = -2.5, fill = "bisque2") +
annotate(geom = "rect", xmin = -69, xmax = -70, ymin = -18, ymax = -13, fill = "bisque2") +
geom_point(data = occdf, aes(x = lng, y = lat, colour = loc), size = 2) +
scale_color_manual(values = c("#5ab4ac", "#8c510a")) +
theme(axis.line=element_blank(),
axis.text.x=element_blank(),
axis.text.y=element_blank(),
axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.title.y=element_blank(),
panel.background = element_rect(fill = "skyblue2"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
legend.position="none")
nw %>%
filter(ECO_NAM %in% c("North_Mesoamerica", "Nearctic", "South_Mesoamerica", "Carribean") == F) %>%
st_union() %>%
ggplot() +
geom_sf(colour = "bisque2", fill = "bisque2", lwd = 0.01) +
annotate(geom = "rect", xmin = -67, xmax = -65, ymin = -27, ymax = -25, fill = "bisque2") +
annotate(geom = "rect", xmin = -75, xmax = -70, ymin = -15, ymax = -10, fill = "bisque2") +
annotate(geom = "rect", xmin = -79.6, xmax = -70, ymin = -6.8, ymax = -2.5, fill = "bisque2") +
annotate(geom = "rect", xmin = -69, xmax = -70, ymin = -18, ymax = -13, fill = "bisque2") +
geom_point(data = occdf, aes(x = lng, y = lat, colour = loc), size = 2) +
scale_color_manual(values = c("#01665e", "#8c510a")) +
theme(axis.line=element_blank(),
axis.text.x=element_blank(),
axis.text.y=element_blank(),
axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.title.y=element_blank(),
panel.background = element_rect(fill = "skyblue2"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
legend.position="none")
nw %>%
filter(ECO_NAM %in% c("North_Mesoamerica", "Nearctic", "South_Mesoamerica", "Carribean") == F) %>%
st_union() %>%
ggplot() +
geom_sf(colour = "black", fill = "bisque2", lwd = 0.01) +
annotate(geom = "rect", xmin = -67, xmax = -65, ymin = -27, ymax = -25, fill = "bisque2") +
annotate(geom = "rect", xmin = -75, xmax = -70, ymin = -15, ymax = -10, fill = "bisque2") +
annotate(geom = "rect", xmin = -79.6, xmax = -70, ymin = -6.8, ymax = -2.5, fill = "bisque2") +
annotate(geom = "rect", xmin = -69, xmax = -70, ymin = -18, ymax = -13, fill = "bisque2") +
geom_point(data = occdf, aes(x = lng, y = lat, colour = loc), size = 2) +
scale_color_manual(values = c("#01665e", "#8c510a")) +
theme(axis.line=element_blank(),
axis.text.x=element_blank(),
axis.text.y=element_blank(),
axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.title.y=element_blank(),
panel.background = element_rect(fill = "skyblue2"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
legend.position="none")
rm(list = ls())
dev.off()
library(sf)
library(spData)
library(ggplot2)
library(tidyverse)
## Load data -------------------------------------------------------------------
# Occurrence data
occdf <- readRDS("./data_2023/SPECIES_LISTS/5-Fully_cleaned_EOT_SA_Mammals_SALMA_kept_Tropics_Diet.RDS")
# New world map
nw <- st_read("./data_2023/New_World_map_ecoregions/New_World_18_regions_DCsplit.shp")
## Process map data and pot ----------------------------------------------------
p <- nw %>%
# Extract South America
filter(ECO_NAM %in% c("North_Mesoamerica", "Nearctic", "South_Mesoamerica", "Carribean") == F) %>%
# Merge extracted polygons
st_union() %>%
# Plot
ggplot() +
geom_sf(colour = "bisque2", fill = "bisque2", lwd = 0.01) +
annotate(geom = "rect", xmin = -67, xmax = -65, ymin = -27, ymax = -25, fill = "bisque2") +
annotate(geom = "rect", xmin = -75, xmax = -70, ymin = -15, ymax = -10, fill = "bisque2") +
annotate(geom = "rect", xmin = -79.6, xmax = -70, ymin = -6.8, ymax = -2.5, fill = "bisque2") +
annotate(geom = "rect", xmin = -69, xmax = -70, ymin = -18, ymax = -13, fill = "bisque2") +
geom_point(data = occdf, aes(x = lng, y = lat, colour = loc), size = 2) +
scale_color_manual(values = c("#01665e", "#8c510a")) +
theme(axis.line=element_blank(),
axis.text.x=element_blank(),
axis.text.y=element_blank(),
axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.title.y=element_blank(),
panel.background = element_rect(fill = "skyblue2"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
legend.position="none")
p
## Save ------------------------------------------------------------------------
ggsave("./figures/Fig_S2_occurrences_map.png", plot = p, height = 10, width = 7.5)
## Save ------------------------------------------------------------------------
ggsave("./figures/Fig_S2_occurrences_map.png", plot = p, height = 7.5, width = 5)
## Save ------------------------------------------------------------------------
ggsave("./figures/Fig_S2_occurrences_map.png", plot = p, height = 8.5, width = 6)
nw %>%
# Extract South America
filter(ECO_NAM %in% c("North_Mesoamerica", "Nearctic", "South_Mesoamerica", "Carribean") == F) %>%
# Merge extracted polygons
st_union() %>%
# Plot
ggplot() +
geom_sf(colour = "bisque2", fill = "bisque2", lwd = 0.01) +
annotate(geom = "rect", xmin = -67, xmax = -65, ymin = -27, ymax = -25, fill = "bisque2") +
annotate(geom = "rect", xmin = -75, xmax = -70, ymin = -15, ymax = -10, fill = "bisque2") +
annotate(geom = "rect", xmin = -79.6, xmax = -70, ymin = -6.8, ymax = -2.5, fill = "bisque2") +
annotate(geom = "rect", xmin = -69, xmax = -70, ymin = -18, ymax = -13, fill = "bisque2") +
geom_point(data = occdf, aes(x = lng, y = lat, colour = loc), size = 2) +
scale_color_manual(values = c("#01665e", "#8c510a")) +
theme(axis.line=element_blank(),
axis.text.x=element_blank(),
axis.text.y=element_blank(),
axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.title.y=element_blank(),
panel.background = element_rect(fill = "skyblue"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
legend.position="none")
library(dplyr)
## Accessory functions ---------------------------------------------------------
source("~/PyRate/pyrate_utilities.r")
source("./R/useful/helper_functions.R")
salma = "SALMA_kept"
i <- 4
i <- i+1
occdf <- readRDS(paste0("./data_2023/SPECIES_LISTS/", i, "-Fully_cleaned_EOT_SA_Mammals_", salma, "_Tropics_Diet.RDS"))
### Spatially scaled
#subset unique genera at a given age and place (characterised by p_lng, p_lat (nb. could have been present-day lon/lat))
gen_lvl_scaled <- occdf %>%
group_by(genus, gen_lvl_status, min_ma, max_ma, p_lng, p_lat, age) %>%
distinct(genus) %>%
ungroup() %>%
select(genus, gen_lvl_status, min_ma, max_ma) %>%
rename(Species = "genus", Status = "gen_lvl_status", min_age = "min_ma", max_age = "max_ma")
### Spatially scaled ###
#subset unique genera at a given age and place (characterised by p_lng, p_lat (nb. could have been present-day lon/lat))
sp_lvl_scaled <- occdf %>%
group_by(accepted_name, status, min_ma, max_ma, p_lng, p_lat, age) %>%
distinct(accepted_name) %>%
ungroup() %>%
select(accepted_name, status, min_ma, max_ma) %>%
rename(Species = "accepted_name", Status = "status", min_age = "min_ma", max_age = "max_ma")
